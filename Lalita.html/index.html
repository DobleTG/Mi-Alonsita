<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">

<!-- IMPORTANTE PARA iOS -->
<meta name="viewport"
content="width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover">

<title>Mi Alonsita ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,500;1,500&display=swap" rel="stylesheet">

<style>

/* ===============================
   BASE GENERAL
================================ */
body{
  margin:0;
  min-height:100dvh;
  font-family:'Segoe UI',system-ui,sans-serif;
  background:#0d0d0d;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow-x:hidden;
  overflow-y:auto;
  padding:20px;
}

/* ===============================
   FONDO IMAGEN
================================ */
.fondo{
  position:fixed;
  inset:0;
  background:
    radial-gradient(circle, rgba(0,0,0,.35), rgba(0,0,0,.85)),
    url('recuerdo.jpg') center/110% no-repeat;
  opacity:0;
  transform:scale(1.05);
  transition:opacity 3.5s ease, transform 4.5s ease;
  z-index:-2;
}
body.abierto .fondo{
  opacity:0.45;
  transform:scale(1);
}

/* ===============================
   VIDEO FONDO
================================ */
.video-fondo{
  position:fixed;
  inset:0;
  width:100vw;
  height:100dvh;
  object-fit:cover;
  opacity:0;
  transition:opacity 3s ease;
  z-index:-3;
  pointer-events:none;
}
.video-activo{
  opacity:0.5;
}

/* ===============================
   TEXTO LUMINOSO
================================ */
#nombre-luz{
  position:fixed;
  bottom:26px;
  right:28px;
  font-size:1.2em;
  font-family:'Times New Roman',serif;
  color:#ffd88a;
  opacity:0;
  pointer-events:none;
  text-shadow:
    0 0 10px rgba(255,220,150,.6),
    0 0 22px rgba(255,200,120,.9),
    0 0 38px rgba(255,170,80,1);
  transition:opacity 2.5s ease, font-size 2.5s ease;
  z-index:999;
}

/* ===============================
   PALPITAR
================================ */
.palpitar{
  animation:palpitar 4.5s ease-in-out infinite;
}
@keyframes palpitar{
  0%,100%{ transform:scale(1); }
  50%{ transform:scale(1.04); }
}

/* ===============================
   CONTENEDOR PRINCIPAL
================================ */
.wrap{
  width:100%;
  max-width:420px;
  min-height:100dvh;
  perspective:1600px;
  position:relative;
  z-index:5;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}

/* ===============================
   LUZ
================================ */
.luz{
  position:absolute;
  inset:-60%;
  background:radial-gradient(circle,rgba(255,220,160,.55),transparent 70%);
  opacity:0;
  pointer-events:none;
}
.abierto ~ .luz{
  opacity:1;
  animation:respirar 6s ease-in-out infinite;
}
@keyframes respirar{
  0%,100%{ opacity:.4; }
  50%{ opacity:.75; }
}

/* ===============================
   SOBRE
================================ */
.sobre{
  position:relative;
  width:100%;
  max-width:360px;
  aspect-ratio:16/10;
  background:url('sobre.jpg') center/cover no-repeat;
  border-radius:14px;
  box-shadow:0 30px 65px rgba(0,0,0,.65);
  overflow:hidden;
  transform-style:preserve-3d;
}

/* ===============================
   TAPA
================================ */
.tapa{
  position:absolute;
  top:0; left:0;
  width:100%;
  height:50%;
  background:url('sobre.jpg') center top/cover no-repeat;
  transform-origin:top;
  transition:transform 1.8s cubic-bezier(.2,.8,.2,1);
  z-index:6;
}

/* ===============================
   SELLO
================================ */
.sello{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:78px;
  height:78px;
  background:radial-gradient(circle at 30% 30%,#c0392b,#7a1510);
  border-radius:50%;
  box-shadow:
    inset -6px -6px 10px rgba(0,0,0,.45),
    inset 3px 3px 6px rgba(255,255,255,.2),
    0 10px 25px rgba(0,0,0,.6);
  z-index:7;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#ffd6c9;
  font-family:'Times New Roman',serif;
  font-size:22px;
  letter-spacing:2px;
  transition:opacity .7s ease, transform .7s ease;
}

/* ===============================
   CARTAS
================================ */
.carta,
.carta2{
  position:absolute;
  inset:10px;
  background:linear-gradient(
    rgba(253,247,236,0.85),
    rgba(253,247,236,0.95)
  );
  border-radius:12px;
  padding:26px 22px;
  transform:translateY(95%);
  opacity:0;
  transition:transform 1.6s ease, opacity 1.4s ease;
  box-shadow:0 12px 30px rgba(0,0,0,.4);
  overflow-y:auto;
}

/* ===============================
   ABIERTO
================================ */
.abierto .tapa{ transform:rotateX(-170deg); }
.abierto .carta{ transform:translateY(0); opacity:1; }
.abierto .sello{ opacity:0; transform:translate(-50%,-50%) scale(.6); }

/* ===============================
   BOTONES
================================ */
button{
  margin:26px auto 0;
  display:block;
  padding:16px 36px;
  border-radius:34px;
  border:none;
  background:linear-gradient(135deg,#ff758c,#ff7eb3);
  color:white;
  font-size:1.05em;
  cursor:pointer;
  box-shadow:0 12px 28px rgba(255,120,160,.65);
  transition:opacity .6s ease;
  font-family:'Playfair Display', serif;
}
button.hide{ opacity:0; pointer-events:none; }
#btn2,#btn3{ display:none; }

/* ===============================
   AJUSTES EXACTOS iPHONE
================================ */
@supports (-webkit-touch-callout: none){

  body{
    padding:14px;
    align-items:flex-start;
  }

  .wrap{
    min-height:100dvh;
    justify-content:flex-start;
    padding-top:12px;
  }

  .sobre{
    width:100%;
    max-width:340px;
    aspect-ratio:4 / 3;
    margin-bottom:12px;
  }

  .carta,
  .carta2{
    padding:18px 16px;
  }

  #nombre-luz{
    bottom:14px;
    right:16px;
    font-size:0.95em;
  }
}

</style>
</head>

<body>

<div class="fondo" id="fondo"></div>
<video id="videoFondo" class="video-fondo" src="recuerdo2.mp4" autoplay loop muted playsinline></video>
<div id="nombre-luz"></div>

<div class="wrap">

  <div class="sobre" id="sobre">
    <div class="tapa"></div>

    <div class="sello">L &amp; S</div>

    <div class="carta" id="carta1">
      <h1>Mi Alonsita ‚ù§Ô∏è</h1>
      <p id="mensaje"></p>
      <p id="firma"><strong>Por siempre... tu alonsito</strong></p>
    </div>

    <div class="carta2" id="carta2">
      <h1>Para ti, mi amor ‚ù§Ô∏è</h1>
      <p id="mensaje2"></p>
      <p id="firma2"><strong>Con todo mi coraz√≥n... tu alonsito</strong></p>
    </div>
  </div>

  <div class="luz"></div>

  <button id="btn" onclick="abrir()">T√≥came para abrir üíå</button>
  <button id="btn2" onclick="abrirSegunda()">A√∫n no se acaba üíñ</button>
  <button id="btn3" onclick="volverPrimera()">Volver</button>

  <audio id="music" src="musica.mp3"></audio>
  <audio id="music2" src="musica2.mp3"></audio>
  <audio id="papel" src="papel.mp3"></audio>
  <audio id="pluma" src="pluma.mp3"></audio>

</div>

<script>
/* TU JS ORIGINAL SE MANTIENE SIN CAMBIOS */
</script>

</body>
</html>

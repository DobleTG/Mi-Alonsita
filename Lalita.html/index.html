<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mi Alonsita ‚ù§Ô∏è</title>

<style>
/* ================== BODY ================== */
body{
  margin:0;
  min-height:100vh;
  font-family:'Segoe UI',system-ui,sans-serif;
  background:#0d0d0d;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  padding:20px;
}

/* ================== FONDO REVELADO ================== */
.fondo{
  position:fixed;
  inset:0;
  background:
    radial-gradient(circle, rgba(0,0,0,.35), rgba(0,0,0,.85)),
    url('recuerdo.jpg') center/110% no-repeat;
  opacity:0;
  transform:scale(1.05);
  transition:opacity 3.5s ease, transform 4.5s ease;
  z-index:-1;
}

body.abierto .fondo{
  opacity:0.45;
  transform:scale(1);
}

/* ================== CONTENEDOR ================== */
.wrap{
  width:100%;
  max-width:420px;
  perspective:1600px;
  position:relative;
}

/* ================== LUZ ================== */
.luz{
  position:absolute;
  inset:-60%;
  background:radial-gradient(circle,rgba(255,220,160,.55),transparent 70%);
  opacity:0;
  transition:opacity 2s ease;
  pointer-events:none;
  z-index:1;
}
.abierto ~ .luz{ opacity:1; }

/* ================== SOBRE ================== */
.sobre{
  position:relative;
  width:100%;
  height:260px;
  background:url('sobre.jpg') center/cover no-repeat;
  border-radius:14px;
  box-shadow:0 30px 65px rgba(0,0,0,.65);
  overflow:hidden;
  transform-style:preserve-3d;
}

/* ================== TAPA ================== */
.tapa{
  position:absolute;
  top:0; left:0;
  width:100%;
  height:55%;
  background:url('sobre.jpg') center top/cover no-repeat;
  transform-origin:top;
  transition:transform 1.8s cubic-bezier(.2,.8,.2,1);
  z-index:6;
}

/* ================== SELLO ================== */
.sello{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:78px;
  height:78px;
  background:radial-gradient(circle at 30% 30%,#c0392b,#7a1510);
  border-radius:50%;
  box-shadow:
    inset -6px -6px 10px rgba(0,0,0,.45),
    inset 3px 3px 6px rgba(255,255,255,.2),
    0 10px 25px rgba(0,0,0,.6);
  z-index:7;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#ffd6c9;
  font-family:'Times New Roman',serif;
  font-size:22px;
  letter-spacing:2px;
  transition:opacity .7s ease, transform .7s ease;
}

/* ================== CARTA ================== */
.carta{
  position:absolute;
  inset:10px;
  background:linear-gradient(
    rgba(253,247,236,0.80),
    rgba(253,247,236,0.92)
  );
  border-radius:10px;
  padding:30px 24px;
  transform:translateY(95%);
  opacity:0;
  transition:transform 1.6s ease, opacity 1.4s ease;
  box-shadow:0 12px 30px rgba(0,0,0,.4);
  overflow-y:auto;
}

h1{
  margin:0 0 14px;
  font-size:1.7em;
  color:#5a2a3c;
}

p{
  margin:0;
  font-size:1.15em;
  color:#4a2b2b;
  line-height:1.8;
  white-space:pre-line;
}

/* ================== FIRMA ================== */
#firma{
  margin-top:26px;
  font-style:italic;
  font-weight:bold;
  opacity:0;
  transform:translateY(10px);
  transition:opacity 1.6s ease, transform 1.6s ease;
}

/* ================== ABIERTO ================== */
.abierto .tapa{ transform:rotateX(-170deg); }
.abierto .carta{ transform:translateY(0); opacity:1; }
.abierto .sello{ opacity:0; transform:translate(-50%,-50%) scale(.6); }

/* ================== BOT√ìN ================== */
button{
  margin:26px auto 0;
  display:block;
  padding:16px 36px;
  border-radius:34px;
  border:none;
  background:linear-gradient(135deg,#ff758c,#ff7eb3);
  color:white;
  font-size:1.05em;
  cursor:pointer;
  box-shadow:0 12px 28px rgba(255,120,160,.65);
}
button.hide{ opacity:0; pointer-events:none; }

/* ================== P√âTALOS ================== */
.petalo{
  position:fixed;
  top:-40px;
  font-size:18px;
  animation:caer linear infinite;
}
@keyframes caer{
  to{ transform:translateY(110vh) rotate(360deg); }
}
</style>
</head>

<body>

<div class="fondo"></div>

<div class="wrap">
  <div class="sobre" id="sobre">
    <div class="tapa"></div>
    <div class="sello">L&nbsp;S</div>

    <div class="carta">
      <h1>Mi Alonsita ‚ù§Ô∏è</h1>
      <p id="mensaje"></p>
      <p id="firma">Por siempre... tu alonsito</p>
    </div>
  </div>

  <div class="luz"></div>

  <button id="btn" onclick="abrir()">Tocame para abrir üíå</button>

  <audio id="music" src="musica.mp3"></audio>
  <audio id="papel" src="papel.mp3"></audio>
  <audio id="pluma" src="pluma.mp3"></audio>
</div>

<script>
const texto=`Nos conocimos jugando,
sin imaginar que ese era el
comienzo de nuestra historia.

Entre partidas y risas
encontr√© a mi calma,
mi persona favorita,
mi hogar, mi todo.

Gracias por dejarme ser 
parte de tu vida y por dejarme
estar a tu lado a lo largo de 
este a√±o y espero que sean muchos mas,
a pesar de todo lo que
hemos pasado... has sido el mejor 
regalo que me ha dado el universo.

Feliz cumplea√±os,
Mi Lalita... ‚ù§Ô∏è`;

const sobre=document.getElementById("sobre");
const mensaje=document.getElementById("mensaje");
const btn=document.getElementById("btn");
const music=document.getElementById("music");
const papel=document.getElementById("papel");
const pluma=document.getElementById("pluma");
const firma=document.getElementById("firma");

let i=0, iniciado=false;

/* ‚úçÔ∏è escritura */
function escribir(){
  if(i<texto.length){
    mensaje.textContent+=texto.charAt(i++);
    pluma.currentTime=0;
    pluma.play().catch(()=>{});
    setTimeout(escribir,45);
  }else{
    setTimeout(()=>{
      firma.style.opacity=1;
      firma.style.transform="translateY(0)";
    },600);
  }
}

/* üéµ m√∫sica suave */
function musicaSuave(){
  music.volume=0;
  music.play().catch(()=>{});
  let v=0;
  const subir=setInterval(()=>{
    if(v<1){
      v+=0.02;
      music.volume=Math.min(v,1);
    }else{
      clearInterval(subir);
    }
  },120);
}

/* üíå abrir */
function abrir(){
  if(iniciado) return;
  iniciado=true;

  btn.classList.add("hide");
  document.body.classList.add("abierto");
  sobre.classList.add("abierto");

  setTimeout(()=>{ papel.play().catch(()=>{}); },500);
  setTimeout(escribir,1300);
  setTimeout(musicaSuave,1600);
}

/* üå∏ p√©talos */
for(let i=0;i<16;i++){
  const p=document.createElement("div");
  p.className="petalo";
  p.textContent="üå∏";
  p.style.left=Math.random()*100+"vw";
  p.style.animationDuration=(6+Math.random()*5)+"s";
  document.body.appendChild(p);
}
</script>

</body>
</html>
